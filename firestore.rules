rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Questionnaire responses - allow create from public, read for dashboard
    match /questionnaire_responses/{document=**} {
      allow create: if true;
      allow read: if true; // ⚠️ For production: change to 'if request.auth != null'
      allow update, delete: if false;
    }
    
    // Waitlist signups - allow create from public, read for dashboard
    match /waitlist_signups/{document=**} {
      allow create: if true;
      allow read: if true; // ⚠️ For production: change to 'if request.auth != null'
      allow update, delete: if false;
    }
    
    // Analytics events - allow create from public, no read access
    match /analytics_events/{document=**} {
      allow create: if true;
      allow read, update, delete: if false;
    }
  }
}
